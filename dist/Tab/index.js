!function(){const t=["localhost:","safemode=","action=submit"].some(t=>window.location.href.includes(t)),o={},e={};function n(n,a,r){t&&console.log(`Group ${n} option ${a} selected with focus ${r}`);const c=o[n]||[];for(const{el:t,option:o}of c)t.classList.toggle("tab-button-selected",o===a),t.ariaSelected=o===a,t.tabIndex=o===a?0:-1;void 0!==r&&c[r].el.focus();const l=e[n]||[];for(const{el:t,option:o}of l)t.classList.toggle("tab-panel-hidden",o!==a)}function a(t){return t.dataset.group||t.closest("[data-group]").dataset.group||void 0}!function(){let r=window.location.hash;r&&(r=decodeURIComponent(r.slice(1)).replace(/ /g,"_")),document.querySelectorAll(".tab-group-container").forEach(t=>{t.dataset.group||(t.dataset.group=function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:10},()=>t[Math.floor(62*Math.random())]).join("")}())}),document.querySelectorAll(".tab-button-container, .tab-panel-container").forEach(t=>{t.querySelectorAll(".tab-button, .tab-panel").forEach((t,o)=>{t.dataset.option||(t.dataset.option=o)})}),document.querySelectorAll(".tab-button-container").forEach(t=>{t.role="tablist"});const c={};document.querySelectorAll(".tab-button").forEach(e=>{const l=a(e);if(!l)return;const s=e.dataset.option,i=e.dataset.name||e.textContent.trim();if(!s)return;o[l]||(o[l]=[]);const u=o[l].length;o[l].push({option:s,el:e}),c[l]||(c[l]=s),r&&i.replace(/ /g,"_")===r&&(c[l]=s),e.role="tab",e.tabIndex=0,e.ariaSelected="false",e.addEventListener("keydown",e=>function(e,a,r){const c=o[a];let l;switch(e.key){case"ArrowUp":case"ArrowLeft":l=r-1;break;case"ArrowDown":case"ArrowRight":l=r+1;break;case"Home":l=0;break;case"End":l=c.length-1}var s;void 0!==l&&(t&&console.log(`Keypress ${e.key} leads to new button index ${l}`),l=(s=l)<0?s+c.length:s>=c.length?s-c.length:s,n(a,c[l].option,l),e.stopPropagation(),e.preventDefault())}(e,l,u)),e.addEventListener("click",()=>n(l,s))}),document.querySelectorAll(".tab-panel").forEach(t=>{const o=a(t);if(!o)return;const n=t.dataset.option;n&&(t.role="tabpanel",t.tabIndex=0,e[o]||(e[o]=[]),e[o].push({option:n,el:t}))});for(const[t,o]of Object.entries(c))n(t,o);t&&(console.log("Found buttons: ",o),console.log("Found panels: ",e))}()}();
