(function(l){l.loader.impl(function(){return["ext.gadget.store.FilterTable@1e013e91",function(n,v,j,x){l.hook("wikipage.content").add(function(){const T=["localhost:","safemode=","action=submit"].some(g=>window.location.href.includes(g));if(!n(".filter-wrapper").length)return;const h=Object.freeze({CONTAINS:Symbol("contains"),EXACT:Symbol("exact")});n.getScript("https://cdn.jsdelivr.net/npm/datatables@1.10.18/media/js/jquery.dataTables.min.js",function(){n(".filter-wrapper").each((g,w)=>{const c=n(w),b=c.data("table-id"),s=n(document.getElementById(b));if(!s.length)return;let d;(function(t){if(t.find("thead").length===0){const i=t.find("tr").first(),e=n("<thead></thead>").append(i);t.prepend(e)}t.find("style").each(function(){n(this).appendTo("head")})})(s);try{d=s.DataTable({paging:!1,info:!1,searching:!0,dom:"t",autoWidth:!1,responsive:!1})}catch(t){return void l.notify(`Error initializing DataTable on table with id ${b}.
Message: ${t.message}`,{autoHide:!1,type:"error",title:"FilterTable initialization failed."})}l.config.get("skin")==="citizen"&&s.unwrap(".dataTables_wrapper"),(function(t,i){const e=t.find(".filter-counter"),r=t.find(".filter-counter-total");e.length&&i.on("draw",function(){const o=i.page.info();T&&console.log(o),e.text(o.recordsDisplay),r.text(o.recordsTotal)})})(c,d);const k=(function(t,i){const e=[];return t.find(".filter-search").each(function(){const r=n(this),o=n('<input type="text" placeholder="Type to search..." />');o.on("keyup input",function(){i.search(this.value).draw()}),r.append(o),e.push(o)}),e})(c,d);c.find(".filter-row").each(function(){(function(t,i){const e=parseInt(t.data("col"))-1;if(isNaN(e))return;const r=t.data("mode");let o;o=r==="contains"?h.CONTAINS:h.EXACT;let a=[];const f=t.find(".filter-button.is-all"),C=t.find(".filter-button").not(".is-all");f.on("click",function(){a=[],t.find(".filter-button").removeClass("button-selected"),n(this).addClass("button-selected"),i.column(e).search("").draw()}),C.on("click",function(){const u=n(this),m=(u.attr("data-query")||u.text().trim()).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),y=a.indexOf(m);if(y>-1?(a.splice(y,1),u.removeClass("button-selected")):(a.push(m),u.addClass("button-selected")),a.length===0)f.addClass("button-selected"),i.column(e).search("").draw();else{f.removeClass("button-selected");let p=a.join("|");o===h.EXACT&&(p="^("+p+")$"),i.column(e).search(p,!0,!1).draw()}}),f.trigger("click")})(n(this),d)}),(function(t,i){t.find(".filter-reset").on("click",function(){i.forEach(function(e){e.val("").trigger("input")}),t.find(".filter-row").each(function(){const e=n(this).find(".is-all");e.length?e.trigger("click"):n(this).find(".filter-button.button-selected").trigger("click")})})})(c,k)})})})},{css:[]},{},{},null]})})(mediaWiki);
